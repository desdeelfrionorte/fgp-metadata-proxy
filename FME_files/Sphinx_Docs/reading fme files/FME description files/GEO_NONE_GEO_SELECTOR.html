<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600; text-decoration: underline;">Description </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-weight:600; text-decoration: underline;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">This custom transformer fans out the metadata records between two types of metadata (GeoSpatial and None GeoSpatial).  When a metadata record cannot be validates as GeoSpatial it is declared None Geospatial. In order to determine the type of metadata record, the transformer analyse attributes according to the YAML directives.  See the section </span><span style=" font-size:10pt; font-style:italic;">Content of the YAML directives</span><span style=" font-size:10pt;"> below for a complete description of the YAML directives.</span></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-weight:600; text-decoration: underline;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600; text-decoration: underline;">Input Ports </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:10pt; font-weight:600;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" text-decoration: underline;">DATA_INPUT</span>:<span style=" font-weight:400;"> The input metadata records to process.</span></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-weight:600; text-decoration: underline;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600; text-decoration: underline;">Output Ports </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-weight:600; text-decoration: underline;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:10pt; font-weight:600; text-decoration: underline;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">GEOSPATIAL<span style=" text-decoration:none;">:</span><span style=" font-weight:400; text-decoration:none;"> Output port for all gepspatial metadata records;</span></li>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-size:10pt; font-weight:600;"><br /></p>
<li style=" font-size:10pt; font-weight:600;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" text-decoration: underline;">NON-GEOSPATIAL</span>:<span style=" font-weight:400;"> Output port for all none geospatial metadata records;</span></li>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px; font-size:10pt; font-weight:600;"><br /></p>
<li style=" font-size:10pt; font-weight:600;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> <span style=" text-decoration: underline;">ERROR_LOG</span>:<span style=" font-weight:400;"> Output port for metadata records that need to be logged according to the YAML directives.</span></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Note: All the input records will go through either the GeoSpatial the None GeoSpatial port.  Some input records may be duplicated and sent through the LOG_ERROR port  if requested by the YAML directives.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-weight:600; text-decoration: underline;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600; text-decoration: underline;">Parameters </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-weight:600; text-decoration: underline;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:10pt; font-weight:600; text-decoration: underline;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">YAML_DIRECTIVES<span style=" font-weight:400; text-decoration:none;">: YAML directives for determining the Geospatial and None Geospatial records.  See the section </span><span style=" font-weight:400; font-style:italic; text-decoration:none;">Content of the YAML directives</span><span style=" font-weight:400; text-decoration:none;"> below for a description of the YAML directives.</span></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600; text-decoration: underline; color:#000000;">Content of the YAML directives </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-weight:600; text-decoration: underline; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">The YAML directives are used by the custom transformer to decide the type of the metadata records: GeoSpatial or None GeoSpatial.  Here's an exemple of a YAML directives:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">resources{}.format:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  domain: LOOKUP_TABLE_FORMAT</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  spatial_type: overwrite</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  not_found: log</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  search_type: equals</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">#</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">description:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  domain: [spatial, geographic]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  spatial_type: no_overwrite</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  not_found: no_log</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier'; font-size:10pt; color:#000000;">  search_type: contains</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier'; font-size:10pt; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; text-decoration: underline; color:#000000;">Description of the YAML directives</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier'; font-size:10pt; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">The first part of the YAML is the name of the FME attribute to use to validate the record, it can be a list attribute (ex.: resources{}..format) or a simple  attribute (ex.: description). If it's a list attribute,the name must contain the 2 characters:&quot;{}&quot;.  The content of that attribute will be used to determine if the record is GeoSpatial or None GeoSpatial.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Following the FME attribute to validate, there are 4 keywords: </span><span style=" font-size:10pt; font-style:italic;">domain, spatial_type, not_found </span><span style=" font-size:10pt;">and </span><span style=" font-size:10pt; font-style:italic;">search_type</span><span style=" font-size:10pt;">.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">The first keyword </span><span style=" font-size:10pt; font-style:italic;">domain</span><span style=" font-size:10pt;"> defines the domain of values that are used to determine if a metadata record is GeoSpatial or None GeoSpatial. Two values are possible: </span><span style=" font-size:10pt; font-style:italic;">LOOKUP_TABLE_FORMAT</span><span style=" font-size:10pt;"> or a list of word defining the domain between brackets (ex.: [point, line, poygone]).  When using the keyword </span><span style=" font-size:10pt; font-style:italic;">LOOKUP_TABLE_FORMAT</span><span style=" font-size:10pt;">, the custom transformer will use the content of the column name </span><span style=" font-size:10pt; font-style:italic;">format</span><span style=" font-size:10pt;"> of the CSV fileto define the domain of values. The record type will be GeoSpatial if the column </span><span style=" font-size:10pt; font-style:italic;">fgp_publish</span><span style=" font-size:10pt;"> is set to &quot;oui&quot;.  When using a domain list, the metadata record will be GeoSpatial if the value of the FME attribute is contained in the domain list.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">The second keyword </span><span style=" font-size:10pt; font-style:italic;">spatial_type</span><span style=" font-size:10pt;"> defines how to set the spatial type when there is a domain match of the FME attribute.  Three values are possible: </span><span style=" font-size:10pt; font-style:italic;">no_overwite, overwrite </span><span style=" font-size:10pt;">and</span><span style=" font-size:10pt; font-style:italic;"> if_null_overwrite</span><span style=" font-size:10pt;">.  </span><span style=" font-size:10pt; font-style:italic;">no_overwite</span><span style=" font-size:10pt;"> means that even if there is a match do not try to overwrite the spatial type.  </span><span style=" font-size:10pt; font-style:italic;">overwite </span><span style=" font-size:10pt;">means that if there is a match, take the </span><span style=" font-size:10pt; font-style:italic;">spatial type value </span><span style=" font-size:10pt;">associated in the CSV file (column name: </span><span style=" font-size:10pt; font-style:italic;">spatial_type</span><span style=" font-size:10pt;">) and assign it (or create it if empty) to the corresponding FME attribute.  </span><span style=" font-size:10pt; font-style:italic;">if_null_overwite </span><span style=" font-size:10pt;">as the same meaning as </span><span style=" font-size:10pt; font-style:italic;">overwrite </span><span style=" font-size:10pt;">but only when the content of the spatial type is empty or missing.  The values </span><span style=" font-size:10pt; font-style:italic;">overwrite </span><span style=" font-size:10pt;">and</span><span style=" font-size:10pt; font-style:italic;"> if_null_overwrite</span><span style=" font-size:10pt;"> can only be used when the domain keyword value is LOOKUP_TABLE_FORMAT.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">The third keyword </span><span style=" font-size:10pt; font-style:italic;">not_found </span><span style=" font-size:10pt;">defines how the custom transformer behaves when an FME attribute is not found in the domain of values.  Two values are possible: </span><span style=" font-size:10pt; font-style:italic;">log and no_log</span><span style=" font-size:10pt;">. </span><span style=" font-size:10pt; font-style:italic;">log</span><span style=" font-size:10pt;"> means create a duplicate (clone) of the record and send it through the LOG_ERROR output port. </span><span style=" font-size:10pt; font-style:italic;">no_log</span><span style=" font-size:10pt;"> means do not log any error when the FME attribute is not found in the domain of values.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">The fourth keyword search type defines how to search the content of the FME attribute.  Two values are possible: </span><span style=" font-size:10pt; font-style:italic;">equals </span><span style=" font-size:10pt;">or</span><span style=" font-size:10pt; font-style:italic;"> contains</span><span style=" font-size:10pt;">. </span><span style=" font-size:10pt; font-style:italic;">equals</span><span style=" font-size:10pt;"> means that the value of the FME attribute must be exactly the same.  </span><span style=" font-size:10pt; font-style:italic;">contains</span><span style=" font-size:10pt;"> means that one of the word the FME attribute must be in the domain values (usefull when we search for one word in a sentence).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">You can define more than one FME attribute to search.  Do not duplicate the FME attribute name, the last one overwrite the others.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>
